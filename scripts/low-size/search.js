const removeOthers=!1;let clock,newSearch=!0,currentIndex=-1;const $input=$js("#searchInput"),$controls=$js(".input-btn"),$counter=$controls.find(0),$prevMark=$controls.find(1),$nextMark=$controls.find(2),$cleanInput=$controls.find(3);$controls.fadeOut(0),RIVERS__RU.forEach((e=>{$riverList.append("<li></li>").append(`\n            <a href="${e.link}" target="_blank" rel="noopener noreferrer">\n                ${e.name}<mark></mark><ins></ins>\n            </a>\n        `)}));const $aList=$js("#riverList a"),$markList=$js("#riverList mark"),$insList=$js("#riverList ins");function ScrollToElem(e){let r=$js(".search-target").size();if(r>0){let n=$js(".search-target").get(e%r);$riverList.get().scrollTo({top:n.offsetTop-6,behavior:"smooth",block:"start"}),$counter.text(`${e>-1?e%r+1:r-Math.abs(e+1)%r}/${r}`)}}function HideSearch(){$input.value(""),$riverList.scroll(0,0),$riverList.fadeOut(200),$controls.fadeOut(200),clearTimeout(clock),clock=setTimeout((()=>{$areaList.fadeIn(200,"block")}),250),newSearch=!0}$input.onEvent("input",(()=>{let e=$input.value();if(!e)return HideSearch();newSearch&&($areaList.fadeOut(200),clearTimeout(clock),$controls.fadeIn(200,"flex"),clock=setTimeout((()=>{$riverList.fadeIn(200,"block",(()=>{currentIndex=-1,ScrollToElem(++currentIndex)}))}),250)),$counter.text("0/0");let r="";$aList.every(((n,t)=>{let o=n.innerText+$markList.get(t).innerText+$insList.get(t).innerText,l=o.toUpperCase().indexOf(e.toUpperCase());r+="<li>",l>-1?(r+=`<a class="search-target" href="${RIVERS__RU[t].link}" target="_blank" rel="noopener noreferrer">${o.slice(0,l)}`,r+=`<mark>${o.slice(l,l+e.length)}</mark>`,r+=`<ins>${o.slice(l+e.length,o.length)}</ins>`,r+="</a>"):(r+=`<a href="${RIVERS__RU[t].link}" target="_blank" rel="noopener noreferrer">${o}`,r+="<mark></mark>",r+="<ins></ins>",r+="</a>"),r+="</li>"})),$riverList.html(r),newSearch||(currentIndex=-1,ScrollToElem(++currentIndex)),newSearch=!1})),$input.onEvent("keyup",((e,r)=>{"Enter"==r.key||"ArrowDown"==r.key?ScrollToElem(++currentIndex):"ArrowUp"==r.key?ScrollToElem(--currentIndex):"Escape"==r.key&&HideSearch()})),$nextMark.onClick((e=>{ScrollToElem(++currentIndex)})),$prevMark.onClick((e=>{ScrollToElem(--currentIndex)})),$cleanInput.onClick((e=>{HideSearch()}));